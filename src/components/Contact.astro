<div id="contacto" class="w-full h-full bg-black/40 shadow-inner shadow-white/30 pb-5">
    <h2 class="font-semibold text-3xl text-center p-10">Contacto</h2>
    <p class="text-center text-white/80 text-base max-w-[600px] sm:px-0 px-4 mx-auto">Contáctame enviando un correo a <a target="_blank" class="text-white/80 hover:text-white/60 underline" href="mailto:urieljolo@gmail.com">urieljolo@gmail.com</a> o a través de este formulario.</p>
        <form class="flex flex-col gap-y-3 p-4 rounded-lg max-w-[550px] mx-auto">
            <label class="text-white font-semibold px-2" for="nombre">Nombre</label>
            <input id="nombre" class="bg-white/20 border-2 border-black/40 rounded-lg p-2" type="text" required/>
            <label class="text-white font-semibold px-2" for="correo">Correo</label>
            <input id="correo" class="bg-white/20 border-2 border-black/40 rounded-lg p-2" type="email" required />
            <label class="text-white font-semibold px-2" for="mensaje">Mensaje</label>
            <textarea class="bg-white/20 border-2 border-black/40 rounded-lg p-2" id="mensaje" cols="30" rows="5" required></textarea>
            <!-- <button class="g-recaptcha" data-sitekey={import.meta.env.CAPTCHA_SITE_KEY} data-callback="onSubmit" data-action="submit">Click me</button> -->
            <button type="submit" id="form-submit" class="bg-white/20 hover:bg-white/30 rounded-full transition p-2 w-32 flex justify-center items-center gap-x-3">
                <svg id="loader" class="w-6 h-6 hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><radialGradient id="a12" cx=".66" fx=".66" cy=".3125" fy=".3125" gradientTransform="scale(1.5)"><stop offset="0" stop-color="#FFFFFF"></stop><stop offset=".3" stop-color="#FFFFFF" stop-opacity=".9"></stop><stop offset=".6" stop-color="#FFFFFF" stop-opacity=".6"></stop><stop offset=".8" stop-color="#FFFFFF" stop-opacity=".3"></stop><stop offset="1" stop-color="#FFFFFF" stop-opacity="0"></stop></radialGradient><circle transform-origin="center" fill="none" stroke="url(#a12)" stroke-width="15" stroke-linecap="round" stroke-dasharray="200 1000" stroke-dashoffset="0" cx="100" cy="100" r="70"><animateTransform type="rotate" attributeName="transform" calcMode="spline" dur="2" values="360;0" keyTimes="0;1" keySplines="0 0 1 1" repeatCount="indefinite"></animateTransform></circle><circle transform-origin="center" fill="none" opacity=".2" stroke="#FFFFFF" stroke-width="15" stroke-linecap="round" cx="100" cy="100" r="70"></circle>
                </svg>
                <span class="text-white font-semibold">Enviar</span> 
            </button>
        </form>
        <hr class="my-6 sm:mx-auto border-gray-700 lg:my-8">
        <div class="sm:flex sm:justify-between sm:items-center">
            <!-- Contact Details -->
            <div class="text-center px-3">
            <span class="text-sm text-gray-500 text-wrap">© 2024 Uriel Jolodovsky - Portfolio Web. Todos los derechos reservados</span>
            </div>
            <div class="flex mt-4 justify-center items-center sm:mt-0 px-5 gap-x-5">
                <a target="_blank" href="mailto:urieljolo@gmail.com" class="text-gray-500 hover:text-gray-200 transition">
                    <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M20 18h-2V9.25L12 13L6 9.25V18H4V6h1.2l6.8 4.25L18.8 6H20m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg> 
                    <span class="sr-only">Email address</span>
                </a>
                <a target="_blank" href="https://www.linkedin.com/in/uriel-jolodovsky" class="text-gray-500 hover:text-gray-200 transition" href="mailto:urieljolo@gmail.com">
                    <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93zM6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37z"/></svg>
                    <span class="sr-only">LinkedIn page</span>
                </a>
                <a target="_blank" href="https://github.com/UrielJolodovsky" class="text-gray-500 hover:text-gray-200 transition">
                    <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33c.85 0 1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
                    <span class="sr-only">GitHub account</span>
                </a>
            </div>
        </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const form = document.getElementById('form-submit')
        const name = document.getElementById('nombre') as HTMLInputElement
        const email = document.getElementById('correo') as HTMLInputElement
        const message = document.getElementById('mensaje') as HTMLInputElement
        const loader = document.getElementById('loader')
        form?.addEventListener('click', async(e) => {
            e.preventDefault()
            if (name?.value === "") name.placeholder = 'Nombre requerido'
            else if (email?.value === "") email.placeholder = 'Correo requerido'
            else if (message?.value === "") message.placeholder = 'Mensaje requerido'
            else {
            loader?.classList.toggle('hidden')
            name.classList.toggle('animate-pulse')
            email.classList.toggle('animate-pulse')
            message.classList.toggle('animate-pulse')
            const res = await fetch("/api/sendEmail.json", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    name: name?.value,
                    email: email?.value,
                    message: message?.value,
                }),
            })
            const data = await res.json()
            loader?.classList.toggle('hidden')
            name.classList.toggle('animate-pulse')
            email.classList.toggle('animate-pulse')
            message.classList.toggle('animate-pulse')
            name.value = ""
            email.value = ""
            message.value = ""
            name.placeholder = ''
            email.placeholder = ''
            message.placeholder = ''
        }
        })
    })
</script>